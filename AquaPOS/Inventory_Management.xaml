<Window x:Class="AquaPOS.Inventory_Management"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:AquaPOS"
        mc:Ignorable="d"
        Icon="pack://application:,,,/resources/Images/App_Logo/AquaPOS_Logo_Icon_New.ico"
        Title="Inventory_Management" Height="720" Width="1280" ResizeMode="CanResize" WindowStartupLocation="CenterScreen">

    <Window.Background>
        <ImageBrush ImageSource="pack://application:,,,/resources/Images/Background_Images/Main_Background_Image.png"
                    Stretch="Fill"/>
    </Window.Background>

    <Window.Resources>
        <!-- Rounded Button Style -->
        <Style x:Key="RoundedButtonStyle" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border 
                        x:Name="border"
                        Background="{TemplateBinding Background}" 
                        BorderBrush="{TemplateBinding BorderBrush}" 
                        BorderThickness="{TemplateBinding BorderThickness}" 
                        CornerRadius="20"
                        SnapsToDevicePixels="True">
                            <ContentPresenter 
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Center" 
                            RecognizesAccessKey="True"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Rounded TextBox Style -->
        <Style x:Key="RoundedTextBoxStyle" TargetType="Control">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Control">
                        <Border CornerRadius="8" BorderBrush="#FF0807A0" BorderThickness="2.5" Background="White">
                            <ScrollViewer Margin="5" x:Name="PART_ContentHost"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar Panel -->
        <Border Background="#FF031C36" Width="260" HorizontalAlignment="Left">
            <StackPanel>

                <!-- Logo -->
                <Image Source="pack://application:,,,/resources/Images/App_Logo/AquaPOS_Logo.png"
                       Width="243" Height="176" 
                       HorizontalAlignment="Center" 
                       Margin="0,20,0,0"/>

                <!-- Dashboard Button -->
                <Button x:Name="DashboardButton" Foreground="White" Background="Transparent" BorderBrush="Transparent" 
                        FontSize="14" Width="240" Height="44" Margin="0,45,0,0" 
                        Click="DashboardButton_Click" HorizontalAlignment="Center" HorizontalContentAlignment="Center">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Height="35" Width="126">
                        <Image Source="pack://application:,,,/resources/Images/Button_Icons/Dashboard_Button_Icon.png" 
                               Width="35" Height="37" Margin="10,0,10,0" RenderTransformOrigin="-0.035,0.484"/>
                        <TextBlock Text="Dashboard" Foreground="White" Height="20"/>
                    </StackPanel>
                </Button>

                <!-- Inventory Management Button -->
                <Button x:Name="InventoryManagementButton" Foreground="White" Background="Transparent" BorderBrush="Transparent" 
                        FontSize="14" Width="240" Height="44" Margin="0,45,0,0" 
                        Click="InventoryManagementButton_Click" HorizontalAlignment="Center" HorizontalContentAlignment="Center">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Height="35" Width="211">
                        <Image Source="pack://application:,,,/resources/Images/Button_Icons/Inventory_Management_Button_Icon.png" 
                               Width="35" Height="37" Margin="10,0,10,0" RenderTransformOrigin="-0.035,0.484"/>
                        <TextBlock Text="Inventory Management" Foreground="White" Height="21" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <!-- Sales Reports Button -->
                <Button x:Name="SalesReportsButton" Foreground="White" Background="Transparent" BorderBrush="Transparent" 
                        FontSize="14" Width="240" Height="44" Margin="0,45,0,0" 
                        Click="SalesReportsButton_Click" HorizontalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Image Source="pack://application:,,,/resources/Images/Button_Icons/Sales_Reports_Button_Icon.png" 
                               Width="35" Height="37" Margin="10,0,10,0" RenderTransformOrigin="-0.035,0.484"/>
                        <TextBlock Text="Sales Reports" Foreground="White" Height="18"/>
                    </StackPanel>
                </Button>


                <!-- Exit Button -->
                <Button x:Name="ExitButton" Foreground="White" Background="Transparent" BorderBrush="Transparent"
                        FontSize="14" Width="60" Height="35" Click="ExitButton_Click" Margin="0,45,0,0" HorizontalAlignment="Center">
                    <TextBlock Foreground="White" TextDecorations="Underline" TextAlignment="Center"><Run Text="EXIT"/></TextBlock>
                </Button>

            </StackPanel>
        </Border>

        <!-- Main Content Grid with Two Columns -->
        <Grid Grid.Column="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <!-- Left: Stock Table -->
                <ColumnDefinition Width="*"/>
                <!-- Right: Input Controls -->
            </Grid.ColumnDefinitions>

            <!-- Stock DataGrid -->
            <Border Grid.Column="0" 
                    BorderBrush="#FFB0B0B0" 
                    BorderThickness="1"
                    CornerRadius="10" 
                    Padding="2" 
                    Background="White" 
                    Margin="20,20,20,20">
                <DataGrid x:Name="StockDataGrid" 
                          AutoGenerateColumns="False" 
                          GridLinesVisibility="All"
                          HeadersVisibility="Column"
                          RowHeight="24" 
                          Background="White" 
                          AlternatingRowBackground="#FFEFEFEF" 
                          FontSize="12" 
                          FontFamily="Segoe UI" 
                          SelectionChanged="StockDataGrid_SelectionChanged_1" 
                          BorderBrush="AntiqueWhite" 
                          BorderThickness="1" 
                          HorizontalGridLinesBrush="Transparent" 
                          VerticalGridLinesBrush="Transparent" 
                          Grid.Row="2" Grid.Column="0" 
                          CanUserAddRows="False" 
                          IsReadOnly="True" 
                          ItemsSource="{Binding Stocks}" 
                          VerticalScrollBarVisibility="Visible" Margin="5">

                    <DataGrid.Resources>
                        <Style TargetType="{x:Type DataGridCell}">
                            <Setter Property="BorderBrush" Value="#FFD3D3D3"/>
                            <Setter Property="Foreground" Value="Black"/>
                            <Setter Property="BorderThickness" Value="0,0,1,1"/>
                            <Setter Property="Padding" Value="5,0,5,0"/>
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                        </Style>

                        <Style TargetType="{x:Type DataGridColumnHeader}">
                            <Setter Property="Background" Value="#FF093564"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                            <Setter Property="Height" Value="30"/>
                            <Setter Property="BorderBrush" Value="#FFD3D3D3"/>
                            <Setter Property="BorderThickness" Value="0,0,2,1"/>
                        </Style>

                        <Style x:Key="CenterTextStyle" TargetType="{x:Type TextBlock}">
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                        </Style>
                    </DataGrid.Resources>

                    <!-- ... Keep your existing DataGrid.Resources and Columns here ... -->
                    <!-- ✅ 2. Columns -->
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding ProductID}" Width="40" 
                                            ElementStyle="{StaticResource CenterTextStyle}"/>
                        <DataGridTextColumn Header="Category" Binding="{Binding Category}" Width="100" 
                                            ElementStyle="{StaticResource CenterTextStyle}"/>
                        <DataGridTextColumn Header="Product Name" Binding="{Binding ProductName}" Width="160" 
                                            ElementStyle="{StaticResource CenterTextStyle}"/>
                        <DataGridTextColumn Header="Unit Price (Rs.)" Binding="{Binding UnitPrice}" Width="120" 
                                            ElementStyle="{StaticResource CenterTextStyle}"/>
                        <DataGridTextColumn Header="Quantity" Binding="{Binding Quantity}" Width="80" 
                                            ElementStyle="{StaticResource CenterTextStyle}"/>
                        <DataGridTextColumn Header="Last Updated On" Binding="{Binding DateUpdated}" Width="140"
                                            ElementStyle="{StaticResource CenterTextStyle}"/>

                        <DataGridTemplateColumn Header="Actions" Width="100">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <!-- Edit Button -->
                                        <Button Click="EditButton_Click" 
                                                Background="Transparent" 
                                                BorderBrush="Transparent" 
                                                Cursor="Hand" 
                                                Padding="0" 
                                                Margin="0,0,10,0">
                                            <Image Source="pack://application:,,,/Resources/Images/Button_Icons/Edit_Button_Icon.png" 
                                                   Width="20" Height="20" Stretch="Uniform"/>
                                        </Button>

                                        <!-- Delete Button -->
                                        <Button Click="DeleteButton_Click" 
                                                ToolTip="Delete" 
                                                Background="Transparent" 
                                                BorderBrush="Transparent" 
                                                Cursor="Hand" 
                                                Padding="0,0,10,0">
                                            <Image Source="pack://application:,,,/Resources/Images/Button_Icons/Delete_Button_Icon.png" 
                                                   Width="20" Height="20" Stretch="Uniform"/>
                                        </Button>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <!-- Input Fields and Buttons in Vertical Stack -->
            <StackPanel Grid.Column="1" Margin="0,20,0,20" Orientation="Vertical" HorizontalAlignment="Left" Width="191">

                <!-- Search Product -->
                <StackPanel Margin="10" Height="32">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <ComboBox x:Name="cmbSearchProduct"
                                  Width="138" Height="32"
                                  IsEditable="True"
                                  StaysOpenOnEdit="True"
                                  BorderBrush="#FF73AEFF" BorderThickness="2.5"
                                  HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
                                  Loaded="CmbSearchProduct_Loaded"
                                  IsTextSearchEnabled="False"
                                  PreviewTextInput="CmbSearchProduct_PreviewTextInput"
                                  SelectionChanged="CmbSearchProduct_SelectionChanged"
                                  Background="{DynamicResource {x:Static SystemColors.ActiveCaptionBrushKey}}"/>
                        <Button Width="35" Height="34" Margin="2,0,0,0" BorderBrush="#FF0807A0" BorderThickness="1.5" Click="SearchProduct_Click">
                            <Image Source="pack://application:,,,/Resources/Images/Button_Icons/Search_Icon.png" Stretch="Uniform" Height="20" Width="20" />
                        </Button>
                    </StackPanel>

                </StackPanel>

                <TextBlock Text="UPDATE INVENTORY" Foreground="#FFC8BEBE" FontSize="16" Margin="0,30,0,0" Width="168" Height="25" FontWeight="Bold"/>

                <WrapPanel Margin="0,5,0,0"  Height="520">

                    <!-- Category -->
                    <StackPanel Margin="10">
                        <TextBlock Text="Category" FontSize="14" Foreground="#FFA2A2C8" Height="24"/>
                        <TextBox x:Name="txtCategory" Width="168" Height="32" BorderBrush="#FF0807A0" BorderThickness="2.5"
                     Style="{StaticResource RoundedTextBoxStyle}"/>
                    </StackPanel>

                    <!-- Product Name -->
                    <StackPanel Margin="10">
                        <TextBlock Text="Product Name" FontSize="14" Foreground="#FFA2A2C8" Height="24"/>
                        <TextBox x:Name="txtProductName" Width="168" Height="32" BorderBrush="#FF0807A0" BorderThickness="2.5"
                     Style="{StaticResource RoundedTextBoxStyle}"/>
                    </StackPanel>

                    <!-- Unit Price -->
                    <StackPanel Margin="10">
                        <TextBlock Text="Unit Price" FontSize="14" Foreground="#FFA2A2C8" Height="24"/>
                        <TextBox x:Name="txtUnitPrice" Width="168" Height="32" BorderBrush="#FF0807A0" BorderThickness="2.5"
                     Style="{StaticResource RoundedTextBoxStyle}"/>
                    </StackPanel>

                    <!-- Quantity -->
                    <StackPanel Margin="10">
                        <TextBlock Text="Quantity" FontSize="14" Foreground="#FFA2A2C8" Height="24"/>
                        <TextBox x:Name="txtQuantity" Width="168" Height="32" BorderBrush="#FF0807A0" BorderThickness="2.5"
                     Style="{StaticResource RoundedTextBoxStyle}"/>
                    </StackPanel>

                    <!-- Date Updated -->
                    <StackPanel Margin="10">
                        <TextBlock Text="Last Updated On" FontSize="14" Foreground="#FFA2A2C8" Height="24"/>
                        <DatePicker x:Name="dpDateUpdated" Width="168" Height="26" BorderBrush="#FF0807A0" BorderThickness="1.5"/>
                    </StackPanel>


                    <!--Row 4: Update and Print Buttons -->
                    <WrapPanel Orientation="Horizontal" Margin="25,20,25,20">
                        <!-- Update Stock Button -->
                        <Button Content="UPDATE" Style="{StaticResource RoundedButtonStyle}" Width="120" Height="36" 
                                FontSize="14" Foreground="Black" Background="#FF47CCCC" BorderBrush="#FF3F43CE" BorderThickness="2.5" 
                                Margin="10" Click="UpdateStock_Click"/>

                        <!-- Print Stock Button -->
                        <Button Content="PRINT" Style="{StaticResource RoundedButtonStyle}" Width="120" Height="36" 
                                FontSize="14" Foreground="Black" Background="#FF9DFF59" BorderBrush="#FF15A90E" BorderThickness="2.5" Margin="10" Click="PrintStock_Click"/>
                    </WrapPanel>

                </WrapPanel>
            </StackPanel>

        </Grid>
    </Grid>
</Window>
